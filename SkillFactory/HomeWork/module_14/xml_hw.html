<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XML</title>
</head>

<body>
    <h1 style="text-align: center;">
        It's xmlDOM practice :)
    </h1>
    <script>
        // 14.1. JSON vs XML

        // Вам дана заготовка и результат, который вы должны получить. Ваша задача — написать код,
        // который будет преобразовывать XML в JS-объект и выводить его в консоль.

        // XML
        const xmlString = `
            <list>
            <student>
                <name lang="en">
                <first>Ivan</first>
                <second>Ivanov</second>
                </name>
                <age>35</age>
                <prof>teacher</prof>
            </student>
            <student>
                <name lang="ru">
                    <first>Петр</first>
                    <second>Петров</second>
                </name>
                <age>58</age>
                <prof>driver</prof>
            </student>
            </list>
        `;

        let result = [];
        let parser = new DOMParser();
        let xmlDOM = parser.parseFromString(xmlString, 'text/xml')

        const students = xmlDOM.querySelectorAll('student');

        students.forEach((item) => {
            let student = {
                name: `${item.querySelector('first').textContent} ${item.querySelector('second').textContent}`,
                age: `${item.querySelector('age').textContent}`,
                prof: `${item.querySelector('prof').textContent}`,
                lang: `${item.querySelector('name').getAttribute('lang')}`
            }
            result.push(student);
        });

        console.log('list', result);

    </script>
</body>

</html>